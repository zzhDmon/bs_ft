webpackJsonp([11],{1009:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v(" 积分规则")]),e._v(" "),a("el-breadcrumb-item",[e._v("积分列表")])],1)],1),e._v(" "),a("div",{staticClass:"handle-box"},[a("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary"},on:{click:function(t){e.dialogDescFormVisible=!0}}},[e._v("编辑积分细则")]),e._v(" "),a("el-checkbox",{on:{change:e.changeStatus},model:{value:e.change_checked,callback:function(t){e.change_checked=t},expression:"change_checked"}},[e._v("开启积分兑换")])],1),e._v(" "),a("el-table",{staticStyle:{width:"832px"},attrs:{data:e.testData,border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",prop:"Name",label:"用户触发行为",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"Value",sortable:"",label:"积分增加数量",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"Times",sortable:"",label:"每日获取限制次数",width:"170"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"ModifyTime",label:"上次修改时间",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"积分设置",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"用户触发行为：","label-width":e.formLabelWidth}},[a("el-input",{attrs:{disabled:!0,"auto-complete":"off"},model:{value:e.form.Name,callback:function(t){e.$set(e.form,"Name",t)},expression:"form.Name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"积分增加数量：","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.Value,callback:function(t){e.$set(e.form,"Value",t)},expression:"form.Value"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"每日获取限制次数：","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.Times,callback:function(t){e.$set(e.form,"Times",t)},expression:"form.Times"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.saveEdit}},[e._v("保存")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"积分设置",visible:e.dialogDescFormVisible},on:{"update:visible":function(t){e.dialogDescFormVisible=t}}},[a("el-form",{attrs:{model:e.formDesc}},[a("el-form-item",{attrs:{label:"积分规则"}},[a("el-input",{attrs:{rows:10,type:"textarea"},model:{value:e.formDesc.desc,callback:function(t){e.$set(e.formDesc,"desc",t)},expression:"formDesc.desc"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogDescFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.saveDescEdit}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]}},1051:function(e,t,a){var i=a(695);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(199)("c2f748d8",i,!0)},533:function(e,t,a){a(1051);var i=a(200)(a(601),a(1009),"data-v-04b0aaac",null);e.exports=i.exports},601:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{url:"./static/vuetable.json",tableData:[],testData:[],cur_page:1,multipleSelection:[],del_list:[],change_checked:!0,dialogFormVisible:!1,editId:"",form:{},formLabelWidth:"130px",dialogDescFormVisible:!1,formDesc:{desc:""}}},created:function(){this.myaxios(),this.getDesc()},computed:{},methods:{myaxios:function(){var e=this;this.$http.get(this.HOST+"/Score/Query").then(function(t){e.testData=t.data},function(e){console.log("获取信息失败")})},getDesc:function(){var e=this;this.$http.get(this.HOST+"/Score/GetDesription").then(function(t){t.data.Status?e.change_checked=!1:e.change_checked=!0,e.formDesc.desc=t.data.Description},function(e){})},handleEdit:function(e,t){var a=this;this.$http.get(this.HOST+"/Score/Get",{params:{Id:t.Id}}).then(function(e){a.editId=t.Id,a.dialogFormVisible=!0,e.data.Id>=0?a.form=e.data:a.form={Id:"",ModifyTime:"",Name:"",Times:"",Value:""}},function(e){a.$message.error("获取失败")})},saveEdit:function(){var e=this;this.dialogFormVisible=!1,this.$http.post(this.HOST+"/Score/Save",this.form).then(function(t){e.$message({message:"编辑成功",type:"success"}),e.myaxios()},function(t){e.$message.error("编辑失败")})},editScoreDesc:function(){this.dialogDescFormVisible=!0},saveDescEdit:function(){var e=this;this.dialogDescFormVisible=!1,this.$http.post(this.HOST+"/Score/Description",{Desc:this.formDesc.desc}).then(function(t){e.$message({message:"编辑成功",type:"success"}),e.getDesc()},function(t){e.$message.error("编辑失败")})},changeStatus:function(){var e=this;if(this.change_checked)var t=0;else var t=1;this.$http.post(this.HOST+"/Score/Status",{Status:t}).then(function(t){e.$message({message:"编辑成功",type:"success"}),e.getDesc()},function(t){e.$message.error("操作失败")})},handleCurrentChange:function(e){this.cur_page=e},handleDelete:function(e,t){this.$message.error("删除第"+(e+1)+"行")},handleSelectionChange:function(e){this.multipleSelection=e}}}},695:function(e,t,a){t=e.exports=a(88)(void 0),t.push([e.i,".handle-box[data-v-04b0aaac]{margin-bottom:20px}.handle-select[data-v-04b0aaac]{width:120px}.handle-input[data-v-04b0aaac]{width:300px;display:inline-block}",""])}});